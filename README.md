# msa-maker-demo μμ‹ ν”„λ΅μ νΈ : μƒν’ κµ¬λ§¤ μ„λΉ„μ¤
MSA Makerλ¥Ό μ΄μ©ν•΄ μ„λΉ„μ¤κ°„ Transactionμ„ μ—°κ²°ν•μ—¬ μ‰½κ² Routing Ruleμ„ μ„¤κ³„ν•  μ μμµλ‹λ‹¤.

μ„¤κ³„ν• Routing Ruleμ„ κµ¬μ„±ν• μ„λΉ„μ¤λ” ν…ν”λ¦ΏμΌλ΅ μ κ³µλ°›μ„ μ μμΌλ©°, λ³Έ ν”„λ΅μ νΈλ” MSA Makerμ—μ„ λ‚΄λ ¤λ°›μ€ ν…ν”λ¦Ώμ„ μ‚¬μ©ν•΄μ„ κ°λ°μ„ μ§„ν–‰ν•μ€μµλ‹λ‹¤.

MSA Makerμ΄ μ κ³µν• ν…ν”λ¦Ώ ν”„λ΅μ νΈλ” μ„¤κ³„λ λ£°μ— ν¬ν•¨λ λ§μ΄ν¬λ΅ μ„λΉ„μ¤ κ°„μ ν†µμ‹ μ„ λ―Έλ¦¬ μ„¤μ •ν•΄λ‘μ—κΈ° λ•λ¬Έμ—, κ°λ°μλ“¤μ€ νΈλμ­μ…μ— λ€ν• κ±±μ •μ—†μ΄ λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ§ μ¨μ „ν μ§‘μ¤‘ν•  μ μμµλ‹λ‹¤.

<br>

## λ©μ 
- μ΄ μμ‹ ν”„λ΅μ νΈλ¥Ό ν†µν•΄ MSA Maker μ‚¬μ©μκ°€ ν…ν”λ¦ΏμΌλ΅ λ‚΄λ ¤λ°›μ€ ν”„λ΅μ νΈμ κµ¬μ„±μ„ ν™•μΈν•  μ μλ„λ΅ ν•©λ‹λ‹¤.
- λΌμ°ν…μ μ •μƒ μν–‰μ™€ λ³΄μƒμ²λ¦¬ μν–‰μ— λ€ν•΄ **κ°λ°μκ°€ μ–΄λ–¤ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ κ³ λ ¤ν•΄μ•Ό ν•λ”μ§€** μμ‹λ¥Ό λ³΄μ—¬μ¤λ‹λ‹¤.

<br>

## Routing Rule
μμ‹ ν”„λ΅μ νΈλ” ν•λ‹¨μ λΌμ°ν… λ£°μ„ κΈ°λ°μΌλ΅ κ°λ°λμ–΄ μμµλ‹λ‹¤.
<img src="file/routing-rule.png" width="80%">

<br>

## μ‹λ‚λ¦¬μ¤ : μƒν’ κµ¬λ§¤ μ„λΉ„μ¤
μƒν’ κµ¬λ§¤ μ„λΉ„μ¤μ μ‹λ‚λ¦¬μ¤λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

### μ‹λ‚λ¦¬μ¤ λ°°κ²½
- μƒν’μ„ κµ¬μ…ν•κΈ° μ„ν•΄μ„λ” μƒν’ κ°€κ²©κ³Ό κ°™μ€ κΈμ•΅μ„ μ§€λ¶ν•΄μ•Ό ν•©λ‹λ‹¤.
- κ³ κ°μ€ κ³„μΆμ λμΌλ΅ κΈμ•΅μ„ μ§€λ¶ν•  μλ„, ν¬μΈνΈλ΅ κΈμ•΅μ„ μ§€λ¶ν•  μλ„ μμµλ‹λ‹¤.
- κ³„μΆμ™€ ν¬μΈνΈ μ”μ•΅μ€ 0 μ΄μƒμ μ«μμ΄μ–΄μ•Ό ν•©λ‹λ‹¤.

### μ‹λ‚λ¦¬μ¤
1. κ³ κ°μ€ μƒν’ κ°€κ²©μ— λ§μ¶° **κ³„μΆμ™€ ν¬μΈνΈμ—μ„ κ°κ° μ–Όλ§λ¥Ό μ§€λ¶ν•μ—¬ κµ¬λ§¤ν• μ§€ κ²°μ •**ν•©λ‹λ‹¤.
2. ν„μ¬ **κ³„μΆ**μ— λ³΄μ  μ¤‘μΈ μ”μ•΅μΌλ΅ μ…λ ¥κ°’μ„ **μ§€λ¶ κ°€λ¥ν•μ§€ ν™•μΈ**ν•©λ‹λ‹¤.
3. ν„μ¬ **ν¬μΈνΈ κ³„μΆ**μ— λ³΄μ  μ¤‘μΈ μ”μ•΅μΌλ΅ μ…λ ¥κ°’μ„ **μ§€λ¶ κ°€λ¥ν•μ§€ ν™•μΈ**ν•©λ‹λ‹¤.

### μ‹λ‚λ¦¬μ¤ μ •μƒ μν–‰
> κ³„μΆμ™€ ν¬μΈνΈ κ³„μΆ μ”μ•΅μ—μ„ μ…λ ¥κ°’λ§νΌ μ°¨κ°ν•©λ‹λ‹¤.

### μ‹λ‚λ¦¬μ¤ μ‹¤ν¨λ΅ μΈν• λ³΄μƒμ²λ¦¬ μν–‰
> β οΈ λ‘ μ¤‘ ν•λ‚λΌλ„ κΈμ•΅μ΄ λ¶€μ΅±ν•λ‹¤λ©΄ μƒν’ κµ¬λ§¤μ— μ‹¤ν¨ν•©λ‹λ‹¤. <br>
> κ³„μΆμ™€ ν¬μΈνΈ κ³„μΆ μ”μ•΅μ—μ„ μ…λ ¥κ°’λ§νΌ κΈμ•΅μ„ λ³µκµ¬μ‹ν‚µλ‹λ‹¤.

<br>

## μ‹¤ν–‰

### μ‹¤ν–‰ μ΅°κ±΄
- λ³Έ μ„λΉ„μ¤μ— λΌμ°ν… μ”μ²­μ„ λ³΄λ‚΄κΈ° μ„ν•΄μ„λ” MSA Makerκ°€ μ„¤μΉλ ν™κ²½μ΄μ–΄μ•Ό ν•©λ‹λ‹¤.
- MSA Maker μ„λΉ„μ¤μ™€ ν†µμ‹ ν•λ” kafka λ¦¬μ†μ¤λ¥Ό λ°”λΌλ΄μ•Ό ν•©λ‹λ‹¤.
- κ° μ„λΉ„μ¤λ” MySQL λ°μ΄ν„°λ² μ΄μ¤μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•©λ‹λ‹¤.

### μ‹¤ν–‰
- `backing-service` κ²½λ΅λ΅ μ΄λ™ν•μ—¬ docker-compose νμΌμ„ ν†µν•΄ κ°„λ‹¨ν λ¦¬μ†μ¤λ¥Ό μ‹¤ν–‰μ‹ν‚¬ μ μμµλ‹λ‹¤. <br> MySQL λ°μ΄ν„° λ² μ΄μ¤λ¥Ό ν¬ν•¨ν• λ¦¬μ†μ¤λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
    ```shell
        docker-compose up
    ```
    Apple Siliconμ M1 λ¨λΈμ—μ„ μ‹¤ν–‰ ν…μ¤νΈλ¥Ό ν•λ‹¤λ©΄ ν•λ‹¨ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•΄ μ£Όμ„Έμ”.
    ```shell
        docker-compose -f docker-compose-for-m1.yml up
    ```
- local profileμ application.yamlμ„ κΈ°λ³Έ μ κ³µν•©λ‹λ‹¤.
- member, point μ΄ 2κ°μ μ„λΉ„μ¤λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
<br>

---

### ν™”λ©΄μΌλ΅ ν”„λ΅μ νΈ ν™•μΈ
<img src="file/demo-ui.png">

---

### Rest API μ κ³µ
PostManμ— import κ°€λ¥ν• json νμΌμ„ μ κ³µν•©λ‹λ‹¤.
π–‡οΈ [link](https://github.com/bespinglobal-cne/msa-sample/blob/main/file/msa-maker-sample.postman_collection.json)
